-- MySQL Script generated by MySQL Workbench
-- Пт. 18 дек. 2015 21:43:45
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema vetl
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema vetl
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `vetl` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `vetl` ;

-- -----------------------------------------------------
-- Table `vetl`.`tbl_type_locality`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vetl`.`tbl_type_locality` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '',
  `type_locality` VARCHAR(45) NOT NULL COMMENT '',
  PRIMARY KEY (`id`)  COMMENT '',
  UNIQUE INDEX `id_UNIQUE` (`id` ASC)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `vetl`.`tbl_locality`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vetl`.`tbl_locality` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '',
  `locality` VARCHAR(45) NOT NULL COMMENT '',
  `type_locality_id` INT UNSIGNED NOT NULL COMMENT '',
  PRIMARY KEY (`id`)  COMMENT '',
  UNIQUE INDEX `id_UNIQUE` (`id` ASC)  COMMENT '',
  INDEX `fk_tbl_locality_tbl_type_locality_idx` (`type_locality_id` ASC)  COMMENT '',
  CONSTRAINT `fk_tbl_locality_tbl_type_locality`
    FOREIGN KEY (`type_locality_id`)
    REFERENCES `vetl`.`tbl_type_locality` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `vetl`.`tbl_hazard_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vetl`.`tbl_hazard_category` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '',
  `hazard_category` VARCHAR(45) NOT NULL COMMENT '',
  PRIMARY KEY (`id`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `vetl`.`tbl_brigada`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vetl`.`tbl_brigada` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '',
  `room_brigade` VARCHAR(45) NOT NULL COMMENT '',
  `last_name_SHNS` VARCHAR(45) NOT NULL COMMENT '',
  PRIMARY KEY (`id`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `vetl`.`tbl_facility`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vetl`.`tbl_facility` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '',
  `facility` VARCHAR(45) NOT NULL COMMENT '',
  `hazard_category_id` INT UNSIGNED NOT NULL COMMENT '',
  `locality_id` INT UNSIGNED NOT NULL COMMENT '',
  `brigada_id` INT UNSIGNED NOT NULL COMMENT '',
  PRIMARY KEY (`id`)  COMMENT '',
  UNIQUE INDEX `facility_UNIQUE` (`facility` ASC)  COMMENT '',
  INDEX `fk_tbl_facility_tbl_hazard_category_idx` (`hazard_category_id` ASC)  COMMENT '',
  INDEX `fk_tbl_facility_tbl_locality_idx` (`locality_id` ASC)  COMMENT '',
  INDEX `fk_tbl_facility_tbl_brigada_idx` (`brigada_id` ASC)  COMMENT '',
  UNIQUE INDEX `locality_id_UNIQUE` (`locality_id` ASC)  COMMENT '',
  UNIQUE INDEX `brigada_id_UNIQUE` (`brigada_id` ASC)  COMMENT '',
  UNIQUE INDEX `hazard_category_id_UNIQUE` (`hazard_category_id` ASC)  COMMENT '',
  CONSTRAINT `fk_tbl_facility_tbl_hazard_category`
    FOREIGN KEY (`hazard_category_id`)
    REFERENCES `vetl`.`tbl_hazard_category` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_facility_tbl_locality`
    FOREIGN KEY (`locality_id`)
    REFERENCES `vetl`.`tbl_locality` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_facility_tbl_brigada`
    FOREIGN KEY (`brigada_id`)
    REFERENCES `vetl`.`tbl_brigada` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `vetl`.`tdl_measuring_instrument`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vetl`.`tdl_measuring_instrument` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '',
  `type_measuring_instrument` VARCHAR(45) NOT NULL COMMENT '',
  `serial_number` VARCHAR(45) NULL COMMENT '',
  `inventory_number` VARCHAR(45) NULL COMMENT '',
  `calibration_date` DATE NOT NULL COMMENT '',
  `number_certificate` VARCHAR(45) NOT NULL COMMENT '',
  `calibration_interval` VARCHAR(45) NOT NULL COMMENT '',
  `next_calibration` DATE NOT NULL COMMENT '',
  `notices` VARCHAR(1024) NULL COMMENT '',
  PRIMARY KEY (`id`)  COMMENT '',
  UNIQUE INDEX `id_UNIQUE` (`id` ASC)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `vetl`.`tbl_type_object`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vetl`.`tbl_type_object` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '',
  `type_object` VARCHAR(45) NOT NULL COMMENT '',
  PRIMARY KEY (`id`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `vetl`.`tbl_object`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `vetl`.`tbl_object` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '',
  `type_object_id` INT NOT NULL COMMENT '',
  `inventory_number` VARCHAR(45) NULL COMMENT '',
  `facility_id` INT UNSIGNED NOT NULL COMMENT '',
  `inspection_date` DATE NOT NULL COMMENT '',
  `inspection_interval` VARCHAR(45) NOT NULL COMMENT '',
  `next_inspection` DATE NOT NULL COMMENT '',
  `protocol_number` VARCHAR(45) NULL COMMENT '',
  PRIMARY KEY (`id`)  COMMENT '',
  INDEX `fk_tbl_object_tbl_type_object1_idx` (`type_object_id` ASC)  COMMENT '',
  INDEX `fk_tbl_object_tbl_facility1_idx` (`facility_id` ASC)  COMMENT '',
  CONSTRAINT `fk_tbl_object_tbl_type_object1`
    FOREIGN KEY (`type_object_id`)
    REFERENCES `vetl`.`tbl_type_object` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_object_tbl_facility1`
    FOREIGN KEY (`facility_id`)
    REFERENCES `vetl`.`tbl_facility` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
